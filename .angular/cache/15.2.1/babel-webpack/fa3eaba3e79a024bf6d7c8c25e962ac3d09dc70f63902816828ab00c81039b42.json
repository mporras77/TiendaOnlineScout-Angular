{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component, NgModule } from '@angular/core';\nimport { LoginComponent } from '../app/login/login.component';\nconst routes = [\n// ...otras rutas...\n{\n  path: 'crear_cuenta',\n  component: LoginComponent\n}];\nlet AppComponent = class AppComponent {\n  constructor(carritoService, dataSharingService) {\n    this.carritoService = carritoService;\n    this.dataSharingService = dataSharingService;\n    this.title = 'e-commerce-angular-node';\n    this.productos = [];\n    // Comunicación entre componentes\n    this.dataSharingService.currentMessage.subscribe(mensaje => {\n      if (mensaje == \"car_updated\") {\n        this.refrescarCarrito();\n      }\n    });\n  }\n  refrescarCarrito() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.productos = yield this.carritoService.obtenerProductos();\n    });\n  }\n  total() {\n    // Quién te conoce reduce\n    let total = 0;\n    this.productos.forEach(p => total += p.precio);\n    return total;\n  }\n  ngOnInit() {\n    this.refrescarCarrito();\n  }\n};\nAppComponent = __decorate([NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n}), Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}