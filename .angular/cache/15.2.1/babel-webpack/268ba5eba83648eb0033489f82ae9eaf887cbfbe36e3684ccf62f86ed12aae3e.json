{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet ClientesComponent = class ClientesComponent {\n  constructor(clienteService) {\n    this.clienteService = clienteService;\n    this.clientesInactivos = [];\n  }\n  ngOnInit() {\n    this.clienteService.getClientes().subscribe(clientes => {\n      this.clientes = clientes;\n      this.filtrarClientesInactivos();\n    }, error => console.log(error));\n  }\n  filtrarClientesInactivos() {\n    const cincoMeses = 1000 * 60 * 60 * 24 * 30 * 5; // 5 meses en milisegundos\n    const fechaActual = new Date().getTime();\n    this.clientesInactivos = this.clientes.filter(cliente => {\n      const fechaUltimaCompra = new Date(cliente.fechaUltimaCompra).getTime();\n      const tiempoInactivo = fechaActual - fechaUltimaCompra;\n      return tiempoInactivo > cincoMeses;\n    });\n    this.clientes = this.clientes.filter(cliente => !this.clientesInactivos.includes(cliente));\n  }\n  eliminarCliente(id) {\n    Swal.fire({\n      title: '¿Estás seguro?',\n      text: 'Esta acción no se puede deshacer.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Sí, eliminar',\n      cancelButtonText: 'No, cancelar'\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.clienteService.eliminarCliente(id).subscribe(() => {\n          this.clientes = this.clientes.filter(cliente => cliente.id !== id);\n          this.filtrarClientesInactivos();\n          Swal.fire({\n            title: 'Eliminado',\n            text: 'El cliente ha sido eliminado correctamente.',\n            icon: 'success'\n          });\n        }, error => {\n          console.log(error);\n          Swal.fire({\n            title: 'Error',\n            text: 'Ha ocurrido un error al eliminar el cliente.',\n            icon: 'error'\n          });\n        });\n      }\n    });\n  }\n};\nClientesComponent = __decorate([Component({\n  selector: 'app-clientes',\n  templateUrl: './clientes.component.html',\n  styleUrls: ['./clientes.component.css']\n})], ClientesComponent);\nexport { ClientesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}